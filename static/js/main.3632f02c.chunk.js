(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{11:function(e,t,a){e.exports={list:"App_list__275a3",listItem:"App_listItem__2TAZA",Header:"App_Header__ZS1m2",link:"App_link__TB6Cl",activeLink:"App_activeLink__1HjaV"}},16:function(e,t,a){e.exports={list:"SecondaryNav_list__3UBIO",listItem:"SecondaryNav_listItem__2iBwE",Header:"SecondaryNav_Header__3zVzY",link:"SecondaryNav_link__2iKxx",activeLink:"SecondaryNav_activeLink__13UfB"}},17:function(e,t,a){"use strict";var n=a(10),c=a.n(n),r=a(19),s=a(20),i=a.n(s),o="8d4dbcc91599f2a2050190ab7ea9b537",l="https://api.themoviedb.org/3",u={getMovieTrending:function(){var e=Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get("".concat(l,"/trending/movie/week?api_key=").concat(o));case 3:return t=e.sent,e.abrupt("return",t.data.results);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),getSearchMovies:function(){var e=Object(r.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get("".concat(l,"/search/movie?api_key=").concat(o,"&query=").concat(t,"&language=en-US&page=1&include_adult=false"));case 3:return a=e.sent,e.abrupt("return",a.data.results);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),getMovieDetails:function(){var e=Object(r.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get("".concat(l,"/movie/").concat(t,"?api_key=").concat(o,"&language=en-US"));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),getMovieCredits:function(){var e=Object(r.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get("".concat(l,"/movie/").concat(t,"/credits?api_key=").concat(o));case 3:return a=e.sent,e.abrupt("return",a.data.cast);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),getMovieReviews:function(){var e=Object(r.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get("".concat(l,"/movie/").concat(t,"/reviews?api_key=").concat(o,"&language=en-US&page=1"));case 3:return a=e.sent,e.abrupt("return",a.data.results);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()};t.a=u},21:function(e,t,a){e.exports={searchbar:"MoviesSeartch_searchbar__pxSsS",form:"MoviesSeartch_form__27fGW",btn:"MoviesSeartch_btn__1FUtS",label:"MoviesSeartch_label__16EWe",input:"MoviesSeartch_input__1uWH_"}},22:function(e,t,a){e.exports={image:"MovieDetails_image__3NvG9",title:"MovieDetails_title__UIoTv",details:"MovieDetails_details__OQSCC",container:"MovieDetails_container__xYDWg",genre:"MovieDetails_genre__1lnmX"}},25:function(e,t,a){e.exports={image:"MoviesList_image__iehQL",list:"MoviesList_list__29KKo",item:"MoviesList_item__1m1AA"}},40:function(e,t,a){e.exports={title:"HomePage_title__3pkFT"}},43:function(e,t,a){e.exports={loader:"Loader_loader__1uQi3"}},48:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(38),r=a.n(c),s=(a(48),a(9)),i=a(3),o=a(12),l=a(13),u=a(15),h=a(14),p=a(25),v=a.n(p),j={home:"/",moviePage:"/movies",movieDetails:"/movies/:movieId",cast:"/movies/:movieId/cast",reviews:"/movies/:movieId/reviews"},m=a(0),b=Object(i.f)((function(e){var t=e.movies,a=e.location;return Object(m.jsx)("ul",{className:v.a.list,children:t.map((function(e){var t=e.id,n=e.poster_path,c=e.title;return Object(m.jsx)("li",{className:v.a.item,children:Object(m.jsxs)(s.b,{to:{pathname:"".concat(j.moviePage,"/").concat(t),state:{from:a}},children:[Object(m.jsx)("img",{className:v.a.image,src:n&&"https://image.tmdb.org/t/p/w500/".concat(n),alt:"".concat(c," poster")}),Object(m.jsx)("h4",{children:c})]})},t)}))})})),d=a(17),f=a(40),O=a.n(f),_=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={movies:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;d.a.getMovieTrending().then((function(t){return e.setState({movies:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{className:O.a.title,children:"Trending today"}),Object(m.jsx)(b,{movies:this.state.movies})]})}}]),a}(n.Component),x=a(21),g=a.n(x),y=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={qwery:""},e.handleChange=function(t){e.setState({qwery:t.currentTarget.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.qwery),e.setState({qwery:""})},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(m.jsx)("div",{className:g.a.searchbar,children:Object(m.jsxs)("form",{onSubmit:this.handleSubmit,className:g.a.form,children:[Object(m.jsx)("button",{type:"submit",className:g.a.btn,children:Object(m.jsx)("span",{className:g.a.label,children:"Search"})}),Object(m.jsx)("input",{className:g.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:this.handleChange})]})})}}]),a}(n.Component),w=a(41),k=a.n(w),S=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={movies:[],page:"",error:null,query:""},e.handleSubmit=function(t){var a=e.props.history;e.setState({query:t}),d.a.getSearchMovies(t).then((function(t){e.setState({movies:t})})).catch((function(e){return console.log(e)})),a.push({pathname:a.pathname,search:"query=".concat(t)})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location,a=k.a.parse(t.search).query;a&&d.a.getSearchMovies(a).then((function(t){e.setState({movies:t})}))}},{key:"render",value:function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(y,{onSubmit:this.handleSubmit}),Object(m.jsx)(b,{movies:this.state.movies,location:this.props.location})]})}}]),a}(n.Component),N=a(23),M=a(42),C=a.n(M),I=(a(93),a(43)),A=a.n(I),D=function(){return Object(m.jsx)(C.a,{className:A.a.loader,type:"Puff",color:"#00BFFF",height:100,width:100,timeout:1e3})},L=a(16),q=a.n(L),F=function(e){var t=e.url,a=e.location;return Object(m.jsx)("nav",{children:Object(m.jsxs)("ul",{className:q.a.list,children:[Object(m.jsx)("li",{className:q.a.listItem,children:Object(m.jsx)(s.b,{to:{pathname:"".concat(t,"/cast"),state:a},className:q.a.link,activeClassName:q.a.activeLink,children:"Cast"})}),Object(m.jsx)("li",{className:q.a.listItem,children:Object(m.jsx)(s.b,{to:{pathname:"".concat(t,"/reviews"),state:a},className:q.a.link,activeClassName:q.a.activeLink,children:"Reviews"})})]})})},B=a(22),H=a.n(B),T=function(e){var t=e.state;return Object(m.jsxs)("div",{className:H.a.details,children:[Object(m.jsx)("img",{className:H.a.image,src:t.poster_path&&"https://image.tmdb.org/t/p/w500/".concat(t.poster_path),alt:"".concat(t.title," poster")}),Object(m.jsxs)("div",{className:H.a.container,children:[Object(m.jsx)("h1",{className:H.a.title,children:t.title}),Object(m.jsxs)("p",{children:[" Release date: ",t.release_date]}),Object(m.jsxs)("p",{children:["Score:",Object(m.jsxs)("span",{children:[" ",10*t.vote_average,"%"]})]}),Object(m.jsx)("h2",{children:"Overview"}),Object(m.jsx)("p",{children:t.overview}),Object(m.jsx)("h2",{children:"Genres"}),t.genres.map((function(e){return Object(m.jsx)("span",{className:H.a.genre,children:e.name},e.id)}))]})]})},E=Object(n.lazy)((function(){return a.e(3).then(a.bind(null,97))})),U=Object(n.lazy)((function(){return a.e(4).then(a.bind(null,98))})),P=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={title:null,release_date:null,vote_average:null,overview:null,genres:[],poster_path:null},e.handleBtnBack=function(){var t,a=e.props,n=a.location;a.history.push((null===n||void 0===n||null===(t=n.state)||void 0===t?void 0:t.from)||j.movies)},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.movieId;d.a.getMovieDetails(t).then((function(t){return e.setState(Object(N.a)({},t))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("button",{type:"button",onClick:this.handleBtnBack,children:"Go back"}),Object(m.jsx)(T,{state:this.state}),Object(m.jsx)("h3",{children:"Additional information"}),this.state.isLoading&&Object(m.jsx)(D,{}),Object(m.jsx)(F,{url:this.props.match.url,location:this.props.location.state}),Object(m.jsx)(n.Suspense,{fallback:Object(m.jsx)(D,{}),children:Object(m.jsxs)(i.c,{children:[Object(m.jsx)(i.a,{path:"".concat(this.props.match.url,"/cast"),render:function(t){return Object(m.jsx)(E,Object(N.a)(Object(N.a)({},t),{},{id:e.props.match.params.movieId}))}}),Object(m.jsx)(i.a,{exact:!0,path:"".concat(this.props.match.url,"/reviews"),render:function(t){return Object(m.jsx)(U,Object(N.a)(Object(N.a)({},t),{},{id:e.props.match.params.movieId}))}})]})})]})}}]),a}(n.Component),z=function(){return Object(m.jsx)("h1",{children:"404 - page not found"})},G=a(11),W=a.n(G),K=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("header",{className:W.a.Header,children:Object(m.jsx)("nav",{children:Object(m.jsxs)("ul",{className:W.a.list,children:[Object(m.jsx)("li",{className:W.a.listItem,children:Object(m.jsx)(s.b,{exact:!0,to:j.home,className:W.a.link,activeClassName:W.a.activeLink,children:"Home"})}),Object(m.jsx)("li",{className:W.a.listItem,children:Object(m.jsx)(s.b,{to:j.moviePage,className:W.a.link,activeClassName:W.a.activeLink,children:"Movies"})})]})})}),Object(m.jsxs)(i.c,{children:[Object(m.jsx)(i.a,{exact:!0,path:j.home,component:_}),Object(m.jsx)(i.a,{path:j.movieDetails,component:P}),Object(m.jsx)(i.a,{path:j.moviePage,component:S}),Object(m.jsx)(i.a,{component:z})]})]})};r.a.render(Object(m.jsx)(s.a,{children:Object(m.jsx)(K,{})}),document.querySelector("#root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.3632f02c.chunk.js.map